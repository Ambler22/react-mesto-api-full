{"ast":null,"code":"import _classCallCheck from\"/Users/RomanDrozdov/Documents/praktikum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/RomanDrozdov/Documents/praktikum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this.url=config.url;this.headers=config.headers;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(\"\".concat(this.url,\"/users/me\"),{headers:this.headers}).then(function(res){return _this._getResponseData(res);});}},{key:\"getCards\",value:function getCards(){var _this2=this;return fetch(\"\".concat(this.url,\"/cards\"),{headers:this.headers}).then(function(res){return _this2._getResponseData(res);});}},{key:\"setUserInfo\",value:function setUserInfo(data){var _this3=this;return fetch(\"\".concat(this.url,\"/users/me\"),{method:'PATCH',headers:this.headers,body:JSON.stringify({name:data.name,about:data.about})}).then(function(res){return _this3._getResponseData(res);});}},{key:\"setUserAvatar\",value:function setUserAvatar(data){var _this4=this;return fetch(\"\".concat(this.url,\"/users/me/avatar\"),{method:'PATCH',headers:this.headers,body:JSON.stringify({avatar:data})}).then(function(res){return _this4._getResponseData(res);});}},{key:\"setCards\",value:function setCards(data){var _this5=this;return fetch(\"\".concat(this.url,\"/cards\"),{method:'POST',headers:this.headers,body:JSON.stringify({name:data.name,link:data.link})}).then(function(res){return _this5._getResponseData(res);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this6=this;return fetch(\"\".concat(this.url,\"/cards/\").concat(cardId),{method:'DELETE',headers:this.headers}).then(function(res){return _this6._getResponseData(res);});}},{key:\"setLike\",value:function setLike(cardId){var _this7=this;return fetch(\"\".concat(this.url,\"/cards/likes/\").concat(cardId),{method:'PUT',headers:this.headers}).then(function(res){return _this7._getResponseData(res);});}},{key:\"deleteLike\",value:function deleteLike(cardId){var _this8=this;return fetch(\"\".concat(this.url,\"/cards/likes/\").concat(cardId),{method:'DELETE',headers:this.headers}).then(function(res){return _this8._getResponseData(res);});}}]);return Api;}();var api=new Api({url:'https://nomoreparties.co/v1/cohort-25',headers:{authorization:'2db1777b-72eb-4863-bc5d-c00b58939d4b','Content-Type':'application/json'}});export{api};","map":{"version":3,"sources":["/Users/RomanDrozdov/Documents/praktikum/mesto-react/src/utils/Api.js"],"names":["Api","config","url","headers","res","ok","Promise","reject","status","json","fetch","then","_getResponseData","data","method","body","JSON","stringify","name","about","avatar","link","cardId","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n    constructor(config) {\n        this.url = config.url;\n        this.headers = config.headers;\n    }\n\n_getResponseData(res) {\n    if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n}\n\ngetUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n        headers: this.headers,\n    })\n    .then(res => this._getResponseData(res));\n};\n\ngetCards() {\n    return fetch(`${this.url}/cards`, {\n        headers: this.headers,\n    })\n    .then(res => this._getResponseData(res));\n};\n\nsetUserInfo(data) {\n    return fetch(`${this.url}/users/me`, {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n            name: data.name,\n            about: data.about,\n        })\n    })\n    .then(res => this._getResponseData(res));\n}\n\nsetUserAvatar(data) {\n    return fetch(`${this.url}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n            avatar: data,\n        })\n    })\n    .then(res => this._getResponseData(res));\n}\n\nsetCards(data) {\n    return fetch(`${this.url}/cards`, {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n            name: data.name,\n            link: data.link,\n        })\n    })\n    .then(res => this._getResponseData(res));\n}\n\ndeleteCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}`, {\n        method: 'DELETE',\n        headers: this.headers,\n        })\n        .then(res => this._getResponseData(res));\n}\n\nsetLike(cardId) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this.headers,\n    })\n    .then(res => this._getResponseData(res));\n}\n\ndeleteLike(cardId) {\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this.headers,\n    })\n    .then(res => this._getResponseData(res));\n}\n\n}\n\nconst api = new Api ({\n    url: 'https://nomoreparties.co/v1/cohort-25',\n    headers: {\n      authorization: '2db1777b-72eb-4863-bc5d-c00b58939d4b',\n      'Content-Type': 'application/json'\n    }\n});\n\nexport {api};"]},"metadata":{},"sourceType":"module"}